!function(a,b,c){var d,e;d=function(){var a,b,c=function(){var c=function(a,b,c){var e;for(e in c)if(e!==a.loopedAttr.val&&d(a,b,c,[e]))return!0;return!1},d=function(a,c,d,f){b[c];return d=d[f[0]]||d[f[1]],d?c<b.length-1?e(a,c+1,d):d?!0:!1:!1},e=function(e,f,g){f=f||0,g=g||a;var h,i=b[f];if(i.attrName===e.blockedAttr.attrName)h=[e.blockedAttr.attrName,e.blockedAttr.val];else{if(i.attrName===e.loopedAttr.attrName)return c(e,f,g,f,g);h=[i.attrName,e.selected[i.attrName].val]}return d(e,f,g,h)};return function(a,b){var c,d,f=[];for(c in b)c!==a.attrName&&(d=b[c],e({blockedAttr:a,loopedAttr:d,selected:b})&&f.push(d.attr.niceName+": "+d.niceName));return f}}(),d=function(c,d){for(var e,f,g=0,h=a;g<b.length;){if(e=b[g],f=e.alwaysTrue?e.attrName:e.attrName===c.attrName?c.val:d[e.attrName].val,h=h[f],!h)return!1;g+=1}return!0};return function(e){var f,g,h,i=!0,j=e.length-1,k={};for(a={},b=[];j>=0;){f=e[j].attributes,k=a;for(g in f)h=f[g]||g,k[h]||(k[h]={}),k=k[h],i&&b.push({attrName:g,alwaysTrue:h===g});i=!1,j-=1}return{checkIfPossible:d,figureOutWhyOptionIsUnavailable:c}}}(),e=function(b){"use strict";c.fn.betoniuWcVariationForm=function(){var d=this,e=this.find("fieldset"),f=this.find(".product_variable_option"),g=this.find("input.variation_id"),h=c(this).closest(".product"),i=h.find(".images"),j=i.find("img:eq(0)"),k=j.attr("src"),l=j.attr("title"),m=j.attr("alt"),n={},o={},p=d.data("product_variations")||a.product_variations||a["product_variations_"+parseInt(d.data("product_id"))],q=function(a,b){var d=c(b),e=d.find("legend").html(),f=d.data("attribute_name")||d.attr("name"),g={};g.attrName=f,g.niceName=e,g.values={},n[f]=g},r=function(a,b){var d=c(b),e=d.find("input"),f=c("<p/>",{"class":"tooltip",disabled:"disabled"}),g={},h=e.attr("value"),i=e.attr("name"),j=n[i];g.$self=d,g.$input=e,g.$tooltip=f,g.attr=j,g.attrName=i,g.val=h,g.description=e.data("description"),g.niceName=e.data("nicename"),b.linkedData=j.values[h]=o[h]=g,f.appendTo(d)},s=function(a){g.val("").change(),d.trigger("woocommerce_variation_select_change").trigger("check_variations",["",!1]),c(this).blur(),d.trigger("woocommerce_variation_has_changed")},t=function(){var a,b,f=function(){var d,e=c(this),f=e.find(c("input:checked")),g=f.val();d=e.data("attribute_name")||e.attr("name"),a[d]=g,b[d]=o[g]};return function(h,i,j){var k,l;parseInt(d.data("product_id"));a={},b={},e.each(f),k=c.fn.betoniuWcVariationForm.find_matching_variations(p,a),l=k[0],l?(g.val(l.variation_id).change(),d.trigger("update_variation_values",[b]),d.trigger("found_variation",[l])):alert("Diese Variante ist nicht lieferbar.")}}(),u=function(){return function(a,c){var d=b(p);f.each(function(a,b){var e=b.linkedData,f=e.$input,g=e.$tooltip,h=e.description;d.checkIfPossible({attrName:f.attr("name"),val:f.attr("value")},c)?(f.attr("disabled",!1),h?(g.attr("disabled",!1),g.html(h)):(g.attr("disabled",!0),g.html(""))):(f.attr("disabled",!0),g.attr("disabled",!1),g.html("Nicht verfügbar für: "+d.figureOutWhyOptionIsUnavailable(e,c).join(", ")))})}}(),v=function(a){var b=a.image_src,c=(a.image_link,a.image_title),d=a.image_alt;b&&b.length>1?j.attr("src",b).attr("alt",d).attr("title",c):j.attr("src",k).attr("alt",m).attr("title",l)},w=function(){var a=d.find(".variations_button"),b=d.find(".single_variation"),c=d.find(".single_variation_wrap"),e=h.find(".product_meta").find(".sku"),f=h.find(".product_weight"),g=h.find(".product_dimensions"),i=c.find(".quantity"),j=i.find("input.qty");return e.attr("data-o_sku")||e.attr("data-o_sku",e.text()),f.attr("data-o_weight")||f.attr("data-o_weight",f.text()),g.attr("data-o_dimensions")||g.attr("data-o_dimensions",g.text()),function(d,h){v(h),e.text(h.sku?h.sku:e.attr("data-o_sku")),f.text(h.weight?h.weight:f.attr("data-o_weight")),g.text(h.dimensions?h.dimensions:g.attr("data-o_dimensions")),""!==h.min_qty?j.attr("min",h.min_qty):j.removeAttr("min"),""!==h.max_qty?j.attr("max",h.max_qty):j.removeAttr("max"),"yes"===h.is_sold_individually?(j.val("1"),i.hide()):i.show(),h.is_purchasable&&h.is_in_stock&&h.variation_is_visible?a.show():a.hide(),h.variation_is_visible?b.html(h.price_html+h.availability_html):b.html("<p>Diese Variante ist leider nicht verfügbar.</p>"),c.show().trigger("show_variation",[h])}}();return c.fn.betoniuWcVariationForm.find_matching_variations=function(a,b){for(var d,e,f=[],g=0;g<a.length;g++)d=a[g],e=d.variation_id,c.fn.betoniuWcVariationForm.variations_match(d.attributes,b)&&f.push(d);return f},c.fn.betoniuWcVariationForm.variations_match=function(a,b){var c,d,e,f=!0;for(c in a)a.hasOwnProperty(c)&&(d=a[c],e=b[c],void 0!==d&&void 0!==e&&0!==d.length&&0!==e.length&&d!==e&&(f=!1));return f},this.unbind("check_variations update_variation_values found_variation"),this.find(".variations fieldset").unbind("change focusin"),e.each(q),f.each(r),c(".price").remove(),this.on("change",".variations fieldset",s),this.on("check_variations",t),this.on("update_variation_values",u),this.on("found_variation",w),d.trigger("betoniuWcVariationForm"),d},c(function(){var a=c(".variations_form");a.length>0&&(a.betoniuWcVariationForm(),a.find("fieldset:first-child").change())})}(d)}(jQuery(window),jQuery("body"),jQuery);